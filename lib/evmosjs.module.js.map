{"version":3,"file":"evmosjs.module.js","sources":["../src/rest/account.ts","../src/rest/claims.ts","../src/rest/client.ts"],"sourcesContent":["import { RestInstance } from './client';\n\nexport interface Account {\n    address: string\n    pubkey: string\n    pubkeyType: string\n    accountNumber: number\n    sequence: number\n    error: string\n}\n\nexport async function getAccount(client: RestInstance, address: string) {\n    try {\n        let res = await client.get(`/cosmos/auth/v1beta1/accounts/${address}`)\n        console.log(res.data)\n        console.log(res.data.account.base_account.pub_key)\n        console.log(res.data.account.base_account.pub_key['@type'])\n        return parseReponse(res.data.account)\n    } catch (e: any) {\n        return {\n            address: '',\n            pubkey: '',\n            pubkeyType: '',\n            accountNumber: -1,\n            sequence: -1,\n            error: e.message\n        }\n    }\n}\n\nfunction parseReponse(account) {\n    if (account.base_account) {\n        return {\n            address: account.base_account.address\n                ? account.base_account.address\n                : '',\n            pubkey: account.base_account.pub_key\n                ? account.base_account.pub_key.key\n                    ? account.base_account.pub_key.key\n                    : ''\n                : '',\n            pubkeyType: account.base_account.pub_key['@type']\n                ? account.base_account.pub_key['@type']\n                : '',\n            accountNumber: account.base_account.account_number\n                ? account.base_account.account_number\n                : 0,\n            sequence: account.base_account.sequence\n                ? account.base_account.sequence\n                : 0,\n            error: '',\n        }\n        throw 'Account response has no base/eth account.'\n    }\n}\n","import { RestInstance } from './client';\nimport { Coin } from './common';\n\n\nexport interface TotalUnclaimed {\n    coins: Coin[],\n    error: string,\n}\n\nexport interface Claim {\n    action: number\n    claimable_amount: string\n    completed: boolean\n}\nexport interface ClaimRecord {\n    initial_claimable_amount: string\n    claims: Claim[]\n    address: string\n    error: string\n}\n\nexport async function getTotalUnclaimed(client: RestInstance) {\n    try {\n        let res = await client.get(`/evmos/claim/v1/total_unclaimed`)\n        return {\n            coins: res.data.coins,\n            error: '',\n        }\n    } catch (e: any) {\n        return {\n            coins: [],\n            error: e.message\n        }\n    }\n}\n\nexport async function getClaimRecords(client: RestInstance, address: string) {\n    try {\n        let res = await client.get(`/evmos/claim/v1/claim_records/${address}`)\n        console.log(res)\n        return parseClaimRecords(res.data, address)\n    } catch (e: any) {\n        return {\n            address: address,\n            initial_claimable_amount: '0',\n            claims: [],\n            error: e.message,\n        }\n    }\n}\n\nfunction parseClaimRecords(response: any, address: string) {\n    let claims: Claim[] = []\n\n    if (response.claims) {\n        response.claims.forEach((e) => {\n            claims.push({\n                action: e.action ? e.action.valueOf() : -1,\n                claimable_amount: e.claimable_amount\n                    ? e.claimable_amount\n                    : '0',\n                completed: e.completed ? e.completed : false,\n            })\n        })\n    }\n    return {\n        initial_claimable_amount: response.initial_claimable_amount\n            ? response.initial_claimable_amount\n            : '0',\n        claims: claims,\n        address: address,\n        error: '',\n    }\n}","import axios, { AxiosInstance } from 'axios';\n\nexport class RestInstance {\n    protected client: AxiosInstance;\n\n    constructor(endpoint: string) {\n        this.client = axios.create({ baseURL: endpoint })\n    }\n\n    changeEndpoint(endpoint: string) {\n        this.client = axios.create({ baseURL: endpoint })\n    }\n\n    getAxiosInstance() {\n        return this.client\n    }\n\n    get(endpoint: string) {\n        return this.client.get(endpoint)\n    }\n}"],"names":["getAccount","client","address","get","res","console","log","data","account","base_account","pub_key","pubkey","key","pubkeyType","accountNumber","account_number","sequence","error","parseReponse","e","message","getClaimRecords","response","claims","forEach","push","action","valueOf","claimable_amount","completed","initial_claimable_amount","parseClaimRecords","getTotalUnclaimed","coins","RestInstance","constructor","endpoint","this","axios","create","baseURL","changeEndpoint","getAxiosInstance"],"mappings":"qBAWsBA,MAAAA,WAAWC,EAAsBC,sEAE/BD,EAAOE,qCAAqCD,oBAAxDE,GAIJ,OAHAC,QAAQC,IAAIF,EAAIG,MAChBF,QAAQC,IAAIF,EAAIG,KAAKC,QAAQC,aAAaC,SAC1CL,QAAQC,IAAIF,EAAIG,KAAKC,QAAQC,aAAaC,QAAQ,UAc1D,SAAsBF,GAClB,GAAIA,EAAQC,aACR,MAAO,CACHP,QAASM,EAAQC,aAAaP,QACxBM,EAAQC,aAAaP,QACrB,GACNS,OAAQH,EAAQC,aAAaC,SACvBF,EAAQC,aAAaC,QAAQE,IACzBJ,EAAQC,aAAaC,QAAQE,IAEjC,GACNC,WAAYL,EAAQC,aAAaC,QAAQ,SACnCF,EAAQC,aAAaC,QAAQ,SAC7B,GACNI,cAAeN,EAAQC,aAAaM,eAC9BP,EAAQC,aAAaM,eACrB,EACNC,SAAUR,EAAQC,aAAaO,SACzBR,EAAQC,aAAaO,SACrB,EACNC,MAAO,IAjCJC,CAAad,EAAIG,KAAKC,gFACxBW,GACL,MAAO,CACHjB,QAAS,GACTS,OAAQ,GACRE,WAAY,GACZC,eAAgB,EAChBE,UAAW,EACXC,MAAOE,EAAEC,YAdrB,2HCyBsBC,MAAAA,WAAgBpB,EAAsBC,kEAEpCD,EAAOE,qCAAqCD,oBAAxDE,GAEJ,OADAC,QAAQC,IAAIF,GAYpB,SAA2BkB,EAAepB,GACtC,IAAIqB,EAAkB,GAatB,OAXID,EAASC,QACTD,EAASC,OAAOC,QAASL,IACrBI,EAAOE,KAAK,CACRC,OAAQP,EAAEO,OAASP,EAAEO,OAAOC,WAAa,EACzCC,iBAAkBT,EAAES,iBACdT,EAAES,iBACF,IACNC,YAAWV,EAAEU,WAAYV,EAAEU,cAIhC,CACHC,yBAA0BR,EAASQ,yBAC7BR,EAASQ,yBACT,IACNP,OAAQA,EACRrB,QAASA,EACTe,MAAO,IA/BAc,CAAkB3B,EAAIG,KAAML,eAC9BiB,GACL,MAAO,CACHjB,QAASA,EACT4B,yBAA0B,IAC1BP,OAAQ,GACRN,MAAOE,EAAEC,YAVrB,oCAfsBY,WAAkB/B,kEAEhBA,EAAOE,sDAAnBC,GACJ,MAAO,CACH6B,MAAO7B,EAAIG,KAAK0B,MAChBhB,MAAO,gBAENE,GACL,MAAO,CACHc,MAAO,GACPhB,MAAOE,EAAEC,YAVrB,0CCnBac,EAGTC,YAAYC,QAFFnC,cAGNoC,KAAKpC,OAASqC,EAAMC,OAAO,CAAEC,QAASJ,IAG1CK,eAAeL,GACXC,KAAKpC,OAASqC,EAAMC,OAAO,CAAEC,QAASJ,IAG1CM,mBACI,YAAYzC,OAGhBE,IAAIiC,GACA,YAAYnC,OAAOE,IAAIiC"}